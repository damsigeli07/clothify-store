<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<AnchorPane prefHeight="700.0" prefWidth="1200.0" style="-fx-background-color: #1A1D29;" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controller.ProductsController">


    <children>
        <!-- Header -->
        <HBox alignment="CENTER_LEFT" prefHeight="70.0" spacing="20.0" style="-fx-background-color: rgba(30, 41, 59, 0.5);" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
            <padding>
                <Insets bottom="15.0" left="30.0" right="30.0" top="15.0" />
            </padding>
            <children>
                <Button mnemonicParsing="false" onAction="#backToDashboard" style="-fx-background-color: rgba(99, 102, 241, 0.2); -fx-text-fill: #6366F1; -fx-background-radius: 10; -fx-font-weight: bold;" text="â† Back">
                    <padding>
                        <Insets bottom="8.0" left="15.0" right="15.0" top="8.0" />
                    </padding>
                </Button>
                <Label style="-fx-font-weight: bold; -fx-font-size: 24;" text="Product Management" textFill="#f1f5f9" />
            </children>
        </HBox>

        <!-- Main Content -->
        <HBox spacing="25.0" AnchorPane.bottomAnchor="30.0" AnchorPane.leftAnchor="30.0" AnchorPane.rightAnchor="30.0" AnchorPane.topAnchor="100.0">

            <!-- Left Panel - Product Form -->
            <VBox prefWidth="380.0" spacing="20.0" style="-fx-background-color: rgba(30, 41, 59, 0.5); -fx-background-radius: 20; -fx-padding: 30;">
                <children>
                    <Label style="-fx-font-size: 20; -fx-font-weight: bold;" text="Product Details" textFill="#f1f5f9" />

                    <!-- Product Name -->
                    <VBox spacing="8.0">
                        <children>
                            <Label style="-fx-font-size: 11px; -fx-font-weight: bold;" text="PRODUCT NAME *" textFill="#94A3B8" />
                            <TextField fx:id="txtName" promptText="Enter product name" style="-fx-background-color: rgba(15, 23, 42, 0.8); -fx-text-fill: white;                             -fx-prompt-text-fill: #64748B; -fx-background-radius: 10;                             -fx-border-color: rgba(99, 102, 241, 0.3); -fx-border-radius: 10;                             -fx-border-width: 1.5;">
                                <padding>
                                    <Insets bottom="12.0" left="15.0" right="15.0" top="12.0" />
                                </padding>
                            </TextField>
                        </children>
                    </VBox>

                    <!-- Category -->
                    <VBox spacing="8.0">
                        <children>
                            <Label style="-fx-font-size: 11px; -fx-font-weight: bold;" text="CATEGORY *" textFill="#94A3B8" />
                            <TextField id="cmbCategory" fx:id="txtName1" promptText="Select category" style="-fx-background-color: rgba(15, 23, 42, 0.8); -fx-text-fill: white;                             -fx-prompt-text-fill: #64748B; -fx-background-radius: 10;                             -fx-border-color: rgba(99, 102, 241, 0.3); -fx-border-radius: 10;                             -fx-border-width: 1.5;">
                                <padding>
                                <Insets bottom="12.0" left="15.0" right="15.0" top="12.0" />
                                </padding>
                            </TextField>
                        </children>
                    </VBox>

                    <!-- Price -->
                    <VBox spacing="8.0">
                        <children>
                            <Label style="-fx-font-size: 11px; -fx-font-weight: bold;" text="PRICE *" textFill="#94A3B8" />
                            <TextField fx:id="txtPrice" promptText="0.00" style="-fx-background-color: rgba(15, 23, 42, 0.8); -fx-text-fill: white;                                               -fx-prompt-text-fill: #64748B; -fx-background-radius: 10;                                               -fx-border-color: rgba(99, 102, 241, 0.3); -fx-border-radius: 10;                                               -fx-border-width: 1.5;">
                                <padding>
                                    <Insets bottom="12.0" left="15.0" right="15.0" top="12.0" />
                                </padding>
                            </TextField>
                        </children>
                    </VBox>

                    <!-- Quantity -->
                    <VBox spacing="8.0">
                        <children>
                            <Label style="-fx-font-size: 11px; -fx-font-weight: bold;" text="QUANTITY *" textFill="#94A3B8" />
                            <TextField fx:id="txtQuantity" promptText="0" style="-fx-background-color: rgba(15, 23, 42, 0.8); -fx-text-fill: white;                                               -fx-prompt-text-fill: #64748B; -fx-background-radius: 10;                                               -fx-border-color: rgba(99, 102, 241, 0.3); -fx-border-radius: 10;                                               -fx-border-width: 1.5;">
                                <padding>
                                    <Insets bottom="12.0" left="15.0" right="15.0" top="12.0" />
                                </padding>
                            </TextField>
                        </children>
                    </VBox>

                    <!-- Supplier -->
                    <VBox spacing="8.0">
                        <children>
                            <Label style="-fx-font-size: 11px; -fx-font-weight: bold;" text="SUPPLIER" textFill="#94A3B8" />
                            <TextField fx:id="txtSupplier" promptText="Enter supplier name" style="-fx-background-color: rgba(15, 23, 42, 0.8); -fx-text-fill: white;                                               -fx-prompt-text-fill: #64748B; -fx-background-radius: 10;                                               -fx-border-color: rgba(99, 102, 241, 0.3); -fx-border-radius: 10;                                               -fx-border-width: 1.5;">
                                <padding>
                                    <Insets bottom="12.0" left="15.0" right="15.0" top="12.0" />
                                </padding>
                            </TextField>
                        </children>
                    </VBox>

                    <!-- Buttons -->
                    <HBox spacing="12.0">
                        <children>
                            <Button maxWidth="Infinity" mnemonicParsing="false" onAction="#clearForm" style="-fx-background-color: rgba(239, 68, 68, 0.2); -fx-text-fill: #EF4444;                                            -fx-background-radius: 10; -fx-font-weight: bold;" text="Clear" HBox.hgrow="ALWAYS">
                                <padding>
                                    <Insets bottom="12.0" left="20.0" right="20.0" top="12.0" />
                                </padding>
                            </Button>
                            <Button fx:id="btnSave" maxWidth="Infinity" mnemonicParsing="false" onAction="#saveProduct" style="-fx-background-color: linear-gradient(to right, #6366F1, #8B5CF6);                                            -fx-text-fill: white; -fx-background-radius: 10; -fx-font-weight: bold;" text="Add Product" HBox.hgrow="ALWAYS">
                                <padding>
                                    <Insets bottom="12.0" left="20.0" right="20.0" top="12.0" />
                                </padding>
                            </Button>
                        </children>
                    </HBox>
                </children>
            </VBox>

            <!-- Right Panel - Product List -->
            <VBox spacing="20.0" HBox.hgrow="ALWAYS">
                <children>
                    <!-- Search Bar -->
                    <HBox spacing="15.0">
                        <children>
                            <TextField fx:id="txtSearch" promptText="Search products..."
                                       style="-fx-background-color: rgba(30, 41, 59, 0.5); -fx-text-fill: white;
                                              -fx-prompt-text-fill: #64748B; -fx-background-radius: 12;
                                              -fx-border-color: rgba(99, 102, 241, 0.3); -fx-border-radius: 12;
                                              -fx-border-width: 1.5; -fx-font-size: 14px;"
                                       HBox.hgrow="ALWAYS">
                                <padding>
                                    <Insets bottom="12.0" left="20.0" right="20.0" top="12.0"/>
                                </padding>
                            </TextField>
                            <Button mnemonicParsing="false" onAction="#searchProducts"
                                    style="-fx-background-color: linear-gradient(to right, #6366F1, #8B5CF6);
                                           -fx-text-fill: white; -fx-background-radius: 12; -fx-font-weight: bold;"
                                    text="Search">
                                <padding>
                                    <Insets bottom="12.0" left="25.0" right="25.0" top="12.0"/>
                                </padding>
                            </Button>
                        </children>
                    </HBox>

                    <!-- Products Table -->
                    <TableView fx:id="tblProducts" VBox.vgrow="ALWAYS"
                               style="-fx-background-color: rgba(30, 41, 59, 0.5);
                                      -fx-control-inner-background: rgba(15, 23, 42, 0.8);
                                      -fx-background-radius: 15; -fx-table-cell-border-color: rgba(99, 102, 241, 0.1);">
                        <columns>
                            <TableColumn text="ID" prefWidth="50">
                                <cellValueFactory><PropertyValueFactory property="id"/></cellValueFactory>
                            </TableColumn>
                            <TableColumn text="Name" prefWidth="180">
                                <cellValueFactory><PropertyValueFactory property="name"/></cellValueFactory>
                            </TableColumn>
                            <TableColumn text="Category" prefWidth="120">
                                <cellValueFactory><PropertyValueFactory property="category"/></cellValueFactory>
                            </TableColumn>
                            <TableColumn text="Price" prefWidth="100">
                                <cellValueFactory><PropertyValueFactory property="price"/></cellValueFactory>
                            </TableColumn>
                            <TableColumn text="Quantity" prefWidth="90">
                                <cellValueFactory><PropertyValueFactory property="quantity"/></cellValueFactory>
                            </TableColumn>
                            <TableColumn text="Supplier" prefWidth="140">
                                <cellValueFactory><PropertyValueFactory property="supplier"/></cellValueFactory>
                            </TableColumn>
                            <TableColumn text="Actions" prefWidth="100">
                                <cellFactory><javafx.scene.control.cell.PropertyValueFactory property="dummy"/></cellFactory>
                            </TableColumn>
                        </columns>
                    </TableView>
                </children>
            </VBox>
        </HBox>
    </children>

</AnchorPane>
